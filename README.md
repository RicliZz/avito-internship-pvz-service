
# avito-internship-pvz-service
–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç ‚Äî backend-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ü–í–ó (–ü—É–Ω–∫—Ç –í—ã–¥–∞—á–∏ –ó–∞–∫–∞–∑–æ–≤).

## üöÄ –ó–ê–ü–£–°–ö
–ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ docker-compose —Ñ–∞–π–ª–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å 2 –æ–±—Ä–∞–∑–∞(–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –∏ gRPC).  
Dockerfile –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –ª–µ–∂–∞—Ç –≤ /build –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –° –ø–æ–º–æ—â—å—é docker-compose –æ–Ω–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è —Å–∞–º–∏.
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
docker-compose up --build
```
–ü–æ—Å–ª–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã —É –≤–∞—Å —Å–æ–±–µ—Ä—É—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—Ä–∞–∑—ã –∏ –ø–æ–¥–Ω–∏–º—É—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

| –°–µ—Ä–≤–∏—Å             | –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞      | –ü–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ | –î–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ |
|--------------------|---------------------|------------------------|-------------------------|
| –û—Å–Ω–æ–≤–Ω–æ–π RESTful   | main_service        | 8080                   | localhost:8080          |
| gRPC —Å–µ—Ä–≤–∏—Å        | grpc_service        | 3000                   | localhost:3000          |
| PostgreSQL         | postgres_service    | 5432                   | localhost:5433          |
| Prometheus         | prometheus_service  | 9090                   | localhost:9000          |



## Prometheus

–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–ª–µ–¥–∏—Ç Prometheus:
1. *created_pvz_count*- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ü–í–ó
2. *created_reception_count*- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏—ë–º–æ–∫
3. *added_product_count*- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
4. *total_requests*- –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
5. *measure_response_duration_seconds*- –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞